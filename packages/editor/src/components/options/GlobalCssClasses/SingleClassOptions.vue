<template>
	<div class="znpb-single-class-wrapper">
		<InputWrapper
			class="znpb-input-wrapper--class-styling"
			title="Class name"
		>
			<BaseInput
				v-model="classTitle"
				:clearable="true"
			/>

			<PseudoSelectors v-model="getStyleOptionsModel" />

		</InputWrapper>

		<OptionsForm
			:schema="getSchema('element_styles')"
			v-model="getStyleOptionsModel"
			class="znpb-single-class-wrapper__accordions"
		/>
	</div>
</template>

<script>
import PseudoSelectors from '../../../components/elementOptions/PseudoSelectors.vue'
import { useOptionsSchemas } from '@zb/components'

export default {
	name: 'SingleClassOptions',
	components: {
		PseudoSelectors
	},
	props: {
		classItem: {
			type: Object,
			required: false
		},
		activeProp: {
			type: String,
			required: false
		}
	},
	setup() {
		const { getSchema } = useOptionsSchemas()

		return {
			getSchema
		}
	},
	computed: {
		classTitle: {
			get () {
				return this.classItem.name
			},
			set (newVal) {
				this.$emit('update:modelValue-classname', {
					name: newVal
				})
			}
		},
		getStyleOptionsModel: {
			get () {
				return this.classItem.style || {}
			},
			set (newValue) {
				this.$emit('update:modelValue', {
					style: newValue
				})
			}
		}
	}
}

</script>
<style lang="scss">
.znpb-single-class-wrapper {
	display: flex;
	flex-direction: column;
	height: 100%;

	.znpb-input-wrapper--class-styling {
		padding: 0 20px;
		margin: 0;
	}
}
.znpb-input-wrapper--class-styling > .znpb-forms-input-content {
	position: relative;
	display: flex;

	& > .zion-input {
		flex: 6;
		margin-right: 10px;
	}
	& > div:last-child {
		margin-right: 0;
	}
}
</style>
