/**
 * @zionbuilder/modalJS v1.0.0 - MIT License
 */

"use strict";!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).ModalJS={})}(this,(function(e){function n(e=null){return null===e?o[o.length-1]:o.find((n=>n.selector=e))}let o=[],t=[{name:"pageLoad",fn:function(e,n){let o={delay:0,...n};window.addEventListener("load",(function(){console.log("on page load"),setTimeout((()=>{e.open()}),o.delay)}))}},{name:"pageScroll",fn:function(e,n){let o={scrollAmmount:0,direction:"down",...n},t=0,i=0,l=0;window.addEventListener("load",(function(){i=document.body.clientHeight,l=window.innerHeight})),window.addEventListener("scroll",(function n(c){c=i*o.scrollAmmount/100;let d=window.scrollY>t;"down"===o.direction&&d&&window.scrollY+l>=c?(e.open(),window.removeEventListener("scroll",n,!1)):"up"!==o.direction||d||(e.open(),window.removeEventListener("scroll",n,!1)),t=window.scrollY}),!1)}},{name:"click",fn:function(e,n){let o={clicks:1,...n},t=1;document.addEventListener("click",(function n(){t>=o.clicks&&(e.open(),document.removeEventListener("click",n)),t++}))}},{name:"exitIntent",fn:function(e,n){function o(){l=null,c=0}let t,i,l=null,c=0,d=0;/Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(document.body.style.color="red",document.addEventListener("scroll",(function n(r){r=window.scrollY>d,d=t=window.scrollY,(r=!r)&&(null!=l&&(c=t-l),l=t,clearTimeout(i),i=setTimeout(o,50),r=-100>=c),r&&(e.open(),document.removeEventListener("scroll",n))}))):document.addEventListener("mouseout",(function n(o){!o.toElement&&!o.relatedTarget&&10>o.clientY&&(e.open(),document.removeEventListener("mouseout",n))}))}}];e.closeModal=function(e=null){(e=n(e))&&e.close()},e.createModal=function(e,n={}){function i(){e.classList.remove("zb-modal--open")}function l(n){n.target===e&&i()}let c;return(n={triggers:[],closeOnBackdropClick:!0,...n}).closeOnBackdropClick&&e.addEventListener("click",l),c={open:function(){e.classList.add("zb-modal--open")},close:i,destroy:function(){n.closeOnBackdropClick&&e.removeEventListener("click",l)},selector:e},n.triggers&&n.triggers.forEach((e=>{let{type:n,fn:o,options:i}=e;"function"==typeof o?o(c,i):(e=t.find((e=>e.name===n)))&&(({fn:e}=e),e(c,i))})),o.push(c),c},e.getModalInstance=n,e.openModal=function(e=null){(e=n(e))&&e.open()},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
